{"version":3,"sources":["state/user-state.js","components/waiting.js","commons/keycloak-config.js","commons/axios-auth.js","commons/get-majiba-uri.js","components/refresh-token/notification.js","components/refresh-token/confirm.js","components/refresh-token/token.js","components/refresh-token/formulaire.js","components/welcome.js","components/accueil.js","components/theme.js","components/majiba.icon.js","components/app-bar.js","components/application.js","index.js"],"names":["userState","atom","key","default","token","undefined","authenticated","givenName","Waiting","status","className","classnames","CircularProgress","color","keycloak","keyCloak","window","location","origin","create","instance","axios","interceptors","request","use","config","headers","Authorization","Accept","authorizeConfig","getMajibaUri","process","Notification","Alert","severity","Confirm","open","onConfirm","onCancel","Dialog","onClose","aria-labelledby","DialogTitle","id","DialogContent","DialogContentText","DialogActions","Button","variant","onClick","Token","value","FormControl","InputLabel","htmlFor","OutlinedInput","label","type","disabled","endAdornment","InputAdornment","position","IconButton","aria-label","title","writeText","isEnabled","name","length","PleaseLogin","Typography","component","Formulaire","useRecoilState","useState","confirm","setConfirm","setName","wait","setWait","setStatus","majibaToken","setMajibaToken","onChangeName","useCallback","e","target","onSubmit","stopPropagation","uri","replace","createUri","axiosWithAuth","get","then","data","catch","response","Paper","elevation","noValidate","autoComplete","TextField","onChange","Welcome","Accueil","theme","createMuiTheme","palette","primary","main","purple","secondary","amber","makeStyles","formulaire","padding","margin","button","Icon","width","height","xmlns","version","viewBox","transform","cx","cy","r","fill","fillOpacity","stroke","strokeDasharray","strokeMiterlimit","strokeOpacity","strokeWidth","opacity","d","rx","ry","strokeLinecap","strokeLinejoin","useStyles","menuButton","marginRight","spacing","flexGrow","ButtonAppBar","classes","onLoginCallback","logout","redirectUri","login","protocol","host","AppBar","Toolbar","edge","Application","user","setUserState","useEffect","init","success","is","tokenParsed","given_name","error","console","log","ThemeProvider","CssBaseline","Container","role","fixed","path","to","ReactDom","render","document","getElementById"],"mappings":"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","file":"static/js/main.6d69c281.chunk.js","sourcesContent":["import { atom } from \"recoil\";\n\nconst userState = atom({\n  key: \"user-state\",\n  default: { token: undefined, authenticated: false, givenName: undefined },\n});\n\nexport default userState;\n","import React from \"react\";\nimport classnames from \"classnames\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nfunction Waiting({ status }) {\n  if (!status) {\n    return null;\n  }\n  return (\n    <div className={classnames(\"waiting\")}>\n      <div className=\"circular\">\n        <CircularProgress color=\"secondary\" />\n      </div>\n    </div>\n  );\n}\n\nexport default Waiting;\n","import keyCloak from \"keycloak-js\";\n\nconst keycloak = keyCloak(\n  `${window.location.origin}/majiba-ui/keycloak-qf.json`\n);\n\nexport default keycloak;\n","import axios from \"axios\";\n\nconst authorizeConfig = (token) => (config) => {\n  return {\n    ...config,\n    headers: { Authorization: `Bearer ${token}` },\n    \"Content-Type\": \"application/json;charset=utf-8\",\n    Accept: \"application/json;charset=utf-8\",\n  };\n};\n\nfunction create(token) {\n  const instance = axios.create();\n  instance.interceptors.request.use(function (config) {\n    return authorizeConfig(token)(config);\n  });\n\n  return instance;\n}\n\nexport default create;\n","function getMajibaUri() {\n  return process.env.NODE_ENV === \"production\"\n    ? process.env.REACT_APP_MAJIBA_PROD\n    : process.env.REACT_APP_MAJIBA_DV;\n}\n\nexport default getMajibaUri;\n","import React from \"react\";\nimport Alert from \"@material-ui/lab/Alert\";\n\nfunction Notification({ status }) {\n  switch (status) {\n    case 666:\n      return (\n        <Alert severity=\"success\" className=\"notification\">\n          Le Diable s'en est mêlé !\n        </Alert>\n      );\n    case 200:\n      return (\n        <Alert severity=\"success\" className=\"notification\">\n          Votre jeton est renouvelé !\n        </Alert>\n      );\n    case 400:\n      return (\n        <Alert severity=\"error\" className=\"notification\">\n          Cette application n'éxiste pas !\n        </Alert>\n      );\n    case 403:\n    case 401:\n      return (\n        <Alert severity=\"error\" className=\"notification\">\n          Vous n'avez pas les droits nécessaires !\n        </Alert>\n      );\n\n    default:\n      return null;\n  }\n}\n\nexport default Notification;\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\n\nfunction Confirm({ open, onConfirm, onCancel }) {\n  return (\n    <Dialog open={open} onClose={onCancel} aria-labelledby=\"form-dialog-title\">\n      <DialogTitle id=\"form-dialog-title\">Renouveler votre token</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          En renouvelant votre token, vous révoquerez immédiatement le\n          précédent. Voulez-vous continuer ?\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button variant=\"contained\" onClick={onCancel} color=\"primary\">\n          Annuler\n        </Button>\n        <Button variant=\"contained\" onClick={onConfirm} color=\"secondary\">\n          Renouveler\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nexport default Confirm;\n","import React from \"react\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport OutlinedInput from \"@material-ui/core/OutlinedInput\";\nimport Assignment from \"@material-ui/icons/Assignment\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { writeText } from \"clipboard-polyfill/text\";\n\nfunction Token({ value }) {\n  if (!value) {\n    return null;\n  }\n  return (\n    <FormControl variant=\"outlined\" className=\"token\">\n      <InputLabel htmlFor=\"outlined-adornment-amount\">Token</InputLabel>\n      <OutlinedInput\n        id=\"token\"\n        label=\"Token\"\n        type=\"text\"\n        disabled={true}\n        variant=\"outlined\"\n        value={value}\n        endAdornment={\n          <InputAdornment position=\"end\">\n            <IconButton\n              aria-label=\"copy\"\n              title=\"copy\"\n              onClick={function () {\n                writeText(value);\n              }}\n            >\n              <Assignment />\n            </IconButton>\n          </InputAdornment>\n        }\n      />\n    </FormControl>\n  );\n}\n\nexport default Token;\n","import React, { useState, useCallback } from \"react\";\nimport { useRecoilState } from \"recoil\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport Waiting from \"../waiting\";\nimport { userState } from \"../../state\";\nimport { axiosWithAuth, getMajibaUri } from \"../../commons\";\nimport Notification from \"./notification\";\nimport Confirm from \"./confirm\";\nimport Token from \"./token\";\nimport \"./formulaire.scss\";\n\nfunction createUri(name) {\n  return `${getMajibaUri()}/application/${name.replace(/\\s+/g, \"\")}/token`;\n}\n\nfunction isEnabled(name) {\n  return name.length;\n}\n\nfunction PleaseLogin() {\n  return (\n    <Typography component=\"div\" variant=\"body1\">\n      Vous n'êtes pas encore authentifié.\n    </Typography>\n  );\n}\n\nfunction Formulaire() {\n  const [{ token, authenticated }] = useRecoilState(userState);\n  const [confirm, setConfirm] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [wait, setWait] = useState(false);\n  const [status, setStatus] = useState(undefined);\n  const [majibaToken, setMajibaToken] = useState(undefined);\n\n  const onChangeName = useCallback(function (e) {\n    setName(e.target.value);\n  }, []);\n\n  const onSubmit = useCallback(\n    function (e) {\n      e.stopPropagation();\n      const uri = createUri(name);\n      setWait(true);\n      setConfirm(false);\n      setStatus(undefined);\n      setMajibaToken(undefined);\n      axiosWithAuth(token)\n        .get(uri)\n        .then(function ({ data }) {\n          const { token } = data;\n          setMajibaToken(token);\n          setWait(false);\n          setStatus(200);\n        })\n        .catch(function (e) {\n          const { response } = e;\n          setWait(false);\n          if (response) {\n            const { status } = response;\n            setStatus(status);\n          } else {\n            setStatus(666);\n          }\n        });\n    },\n    [name, token]\n  );\n\n  if (!authenticated) {\n    return <PleaseLogin />;\n  }\n  return (\n    <Paper elevation={2}>\n      <Waiting status={wait} />\n      <Typography component=\"div\" variant=\"h4\">\n        Demande de renouvellement de jeton.\n      </Typography>\n\n      {majibaToken ? (\n        <form className=\"majiba-demande-token\" noValidate autoComplete=\"off\">\n          <Typography component=\"p\" variant=\"body1\" className=\"warning\">\n            N'oubliez de copier votre jeton dans le presse papier, à l'aide du\n            bouton dans le champ texte avant de quitter cette page.\n          </Typography>\n          <Token value={majibaToken} />\n        </form>\n      ) : (\n        <form className=\"majiba-demande-token\" noValidate autoComplete=\"off\">\n          <Typography component=\"p\" variant=\"body1\" className=\"warning\">\n            En renouvelant le jeton de votre application auprès de l'API MAJIBA,\n            vous révoquez automatiquement le précédant, s'il existe. Votre\n            procédure de déploiement automatique ne fonctionnera alors\n            correctement que lorsque vous lui aurez adjoint le nouveau jeton.\n          </Typography>\n          <TextField\n            id=\"application-name\"\n            label=\"Nom de l'application\"\n            variant=\"outlined\"\n            onChange={onChangeName}\n            className=\"form-field\"\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            className=\"form-button\"\n            disabled={!isEnabled(name)}\n            onClick={() => setConfirm(true)}\n          >\n            Soumettre\n          </Button>\n          <Confirm\n            open={confirm}\n            onConfirm={onSubmit}\n            onCancel={() => setConfirm(false)}\n          />\n          <Notification status={status} />\n        </form>\n      )}\n    </Paper>\n  );\n}\n\nexport default Formulaire;\n","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { useRecoilState } from \"recoil\";\nimport { userState } from \"../state\";\n\nfunction Welcome() {\n  const [{ givenName }] = useRecoilState(userState);\n  if (givenName) {\n    return <Typography variant=\"h3\">{`Bienvenue ${givenName}`}</Typography>;\n  }\n  return null;\n}\n\nexport default Welcome;\n","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Formulaire from \"./refresh-token\";\nimport Welcome from \"./welcome\";\nimport \"./accueil.scss\";\n\nfunction Accueil() {\n  return (\n    <Typography component=\"div\" className=\"accueil\">\n      <Welcome />\n      <Formulaire />\n    </Typography>\n  );\n}\n\nexport default Accueil;\n","import { createMuiTheme } from \"@material-ui/core/styles\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport purple from \"@material-ui/core/colors/purple\";\nimport amber from \"@material-ui/core/colors/amber\";\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: purple[500],\n    },\n    secondary: {\n      main: amber[500],\n    },\n  },\n});\n\nexport const useStyles = makeStyles((theme) => ({\n  formulaire: { padding: \"10px 24px\", margin: \"10px 30px\" },\n  button: { padding: \"6px\" },\n}));\n\nexport default theme;\n","import React from \"react\";\nfunction Icon({ width = 48, height = 48 }) {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width={width}\n      height={height}\n      version=\"1.1\"\n      viewBox=\"0 0 16.933 16.933\"\n    >\n      <g transform=\"translate(0 -280.067)\">\n        <g>\n          <circle\n            cx=\"8.467\"\n            cy=\"288.533\"\n            r=\"8.467\"\n            fill=\"#ffc400\"\n            fillOpacity=\"1\"\n            stroke=\"none\"\n            strokeDasharray=\"none\"\n            strokeMiterlimit=\"4\"\n            strokeOpacity=\"0\"\n            strokeWidth=\"0.288\"\n            opacity=\"1\"\n          ></circle>\n          <g transform=\"matrix(1.2079 0 0 1.13889 -30.805 -30.564)\">\n            <g\n              fillOpacity=\"1\"\n              stroke=\"none\"\n              strokeDasharray=\"none\"\n              strokeMiterlimit=\"4\"\n              strokeOpacity=\"0\"\n              transform=\"translate(6.095 -4.347)\"\n            >\n              <path\n                fill=\"#000\"\n                strokeWidth=\"0.265\"\n                d=\"M23.019 283.102c1.993 1.075 5.824 1.226 7.015.935l-1.503 5.413c-1.21.48-4.155.41-5.68-.635z\"\n                opacity=\"1\"\n              ></path>{\" \"}\n              <ellipse\n                cx=\"60.685\"\n                cy=\"276.968\"\n                fill=\"#000\"\n                strokeWidth=\"0.265\"\n                opacity=\"1\"\n                rx=\"5.262\"\n                ry=\"1.62\"\n                transform=\"rotate(6.967)\"\n              ></ellipse>\n              <ellipse\n                cx=\"61.446\"\n                cy=\"277.179\"\n                fill=\"#1a1a1a\"\n                strokeWidth=\"0.162\"\n                opacity=\"1\"\n                rx=\"3.263\"\n                ry=\"0.979\"\n                transform=\"matrix(.993 .11816 -.1245 .99222 0 0)\"\n              ></ellipse>\n            </g>\n            <g>\n              <path\n                fill=\"red\"\n                stroke=\"none\"\n                strokeLinecap=\"butt\"\n                strokeLinejoin=\"miter\"\n                strokeOpacity=\"1\"\n                strokeWidth=\"0.265\"\n                d=\"M30.214 278.358l-.219-2.95.896-.087 1.347 1.314c.252.138.478.045.7-.098l.838-1.564.984-.13.387 3.955c-.35.128-.644.154-1.152.163l-.187-2.05-.792.842c-.198.084-.397.165-.748.064l-.992-.66.084 1.529c-.299-.056-.848-.177-1.146-.328z\"\n              ></path>\n            </g>\n          </g>\n        </g>\n      </g>\n    </svg>\n  );\n}\nexport default Icon;\n","import React, { useCallback } from \"react\";\nimport { useRecoilState } from \"recoil\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { userState } from \"../state\";\nimport { keycloak } from \"../commons\";\nimport MajibaIcon from \"./majiba.icon\";\n\nconst useStyles = makeStyles((theme) => {\n  return {\n    menuButton: {\n      marginRight: theme.spacing(2),\n    },\n    title: {\n      flexGrow: 1,\n    },\n  };\n});\n\nexport default function ButtonAppBar() {\n  const classes = useStyles();\n  const [user] = useRecoilState(userState);\n  const { authenticated } = user;\n\n  const onLoginCallback = useCallback(\n    function () {\n      if (!authenticated) {\n        keycloak.login({\n          redirectUri: `${window.location.protocol}//${window.location.host}${process.env.PUBLIC_URL}/accueil`,\n        });\n      } else {\n        keycloak.logout({\n          redirectUri: `${window.location.origin}/`,\n        });\n      }\n    },\n    [authenticated]\n  );\n\n  return (\n    <AppBar position=\"static\">\n      <Toolbar>\n        <IconButton\n          edge=\"start\"\n          className={classes.menuButton}\n          color=\"inherit\"\n          aria-label=\"menu\"\n        >\n          <MajibaIcon />\n        </IconButton>\n        <Typography variant=\"h6\" className={classes.title}>\n          Majiba api\n        </Typography>\n        <Button onClick={onLoginCallback} color=\"inherit\">\n          {authenticated ? \"logout\" : \"login\"}\n        </Button>\n      </Toolbar>\n    </AppBar>\n  );\n}\n","import React, { useEffect } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport { useRecoilState } from \"recoil\";\nimport { userState } from \"../state\";\nimport { ThemeProvider } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Container from \"@material-ui/core/Container\";\nimport Accueil from \"./accueil\";\nimport theme from \"./theme\";\nimport AppBar from \"./app-bar\";\nimport { keycloak } from \"../commons\";\n\nfunction Application() {\n  const [user, setUserState] = useRecoilState(userState);\n\n  useEffect(\n    function () {\n      const { authenticated } = user;\n      if (!authenticated) {\n        keycloak\n          .init()\n          .success(function (is) {\n            if (is) {\n              setUserState({\n                ...user,\n                token: keycloak.token,\n                givenName: keycloak.tokenParsed.given_name,\n                authenticated: true,\n              });\n            }\n          })\n          .error(function (e) {\n            console.log(e);\n          });\n      }\n    },\n    [setUserState, user]\n  );\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <Router>\n        <AppBar />\n        <Container role=\"main\" component=\"main\" fixed>\n          <Switch>\n            <Route path=\"/majiba-ui/accueil\" component={Accueil} />\n            <Route\n              path=\"/\"\n              component={() => <Redirect to=\"/majiba-ui/accueil\" />}\n            />\n          </Switch>\n        </Container>\n      </Router>\n    </ThemeProvider>\n  );\n}\n\nexport default Application;\n","import React from \"react\";\nimport ReactDom from \"react-dom\";\nimport { RecoilRoot } from \"recoil\";\nimport Application from \"./components\";\n\nReactDom.render(\n  <RecoilRoot>\n    <Application />\n  </RecoilRoot>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}